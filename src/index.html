<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div id="navbar-placeholder" class="sticky top-0 z-50"></div>

    <div class="mt-16 mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-7xl">
      <h1
        class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-1 bg-gradient-to-r from-[#19a361] to-[#2277b4] inline-block text-transparent bg-clip-text"
      >
        INDIA'S TOP
      </h1>
      <br />
      <h1
        class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-2 mt-1 gap-2 bg-gradient-to-r from-[#19a361] to-[#2277b4] inline-block text-transparent bg-clip-text"
      >
        INFRASTRUCTURE COMPANY —
      </h1>
      <br />
      <h1
        class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 mt-1 gap-2 bg-gradient-to-r from-[#19a361] to-[#2277b4] inline-block text-transparent bg-clip-text"
      >
        BUILDING THE NATION WITH PRIDE
      </h1>

      <!-- Subheading -->
      <p
        class="text-base sm:text-lg md:text-xl text-gray-700 mt-2 mb-1 max-w-3xl"
      >
        As the best infrastructure company in India and the most trusted partner
        for advanced infrastructure
      </p>
      <p class="text-base sm:text-lg md:text-xl text-gray-700 mb-8 max-w-3xl">
        projects across sectors and geographies, we are on a continuous journey
        to forge stronger foundations for our country.
      </p>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 sm:gap-8 text-center mt-16 mb-8"
      >
        <div
          class="border-b border-gray-300 pb-4 mb-4 lg:border-b-0 lg:border-r lg:pr-4 lg:mb-0"
        >
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-2 font-medium text-gray-700 text-base sm:text-xl mb-1"
          >
            <img src="/src/images/animation 1.svg" alt="" class="h-16 w-14" />
            <span>40000 + KM<br />of roads<br />safeguarded</span>
          </div>
        </div>

        <div
          class="border-b border-gray-300 pb-4 mb-4 lg:border-b-0 lg:border-r lg:pr-4 lg:mb-0"
        >
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-2 font-medium text-gray-700 text-base sm:text-xl mb-1"
          >
            <img src="/src/images/animation 2.svg" alt="" class="h-16 w-14" />
            <span>20000 KM <br />of railways<br />electrified</span>
          </div>
        </div>

        <div
          class="border-b border-gray-300 pb-4 mb-4 lg:border-b-0 lg:border-r lg:pr-4 lg:mb-0"
        >
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-2 font-medium text-gray-700 text-base sm:text-xl mb-1"
          >
            <img src="/src/images/animation 3.svg" alt="" class="h-16 w-14" />
            <span>100000 +<br />Telecom Towers</span>
          </div>
        </div>

        <div
          class="border-b border-gray-300 pb-4 mb-4 lg:border-b-0 lg:border-r lg:pr-4 lg:mb-0"
        >
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-2 font-medium text-gray-700 text-base sm:text-xl mb-1"
          >
            <img src="/src/images/animation 4.svg" alt="" class="h-16 w-14" />
            <span>100000 +<br />lighting masts<br />supplied</span>
          </div>
        </div>

        <div>
          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-2 font-medium text-gray-700 text-base sm:text-xl mb-1"
          >
            <img
              src="/src/images/animation 5.svg"
              alt=""
              class="h-16 w-14 mr-0 sm:mr-4"
            />
            <span>2000000 + <br />lighting poles<br />supplied</span>
          </div>
        </div>
      </div>

      <!-- Highlighted statement -->
      <div class="mb-8">
        <span
          class="text-2xl sm:text-3xl md:text-4xl text-gray-600 font-medium"
        >
          #1 backbone of India’s infrastructure
        </span>
        <div
          class="text-2xl sm:text-3xl md:text-4xl text-green-400 font-medium"
        >
          We are Utkarsh India
        </div>
      </div>
    </div>

    <!-- Placeholders for lazy-loading content -->
    <div id="about-placeholder" class="min-h-[8rem]"></div>
    <div id="products-placeholder" class="min-h-[8rem]"></div>
    <div id="our-client-placeholder" class="min-h-[8rem]"></div>
    <div id="footer-placeholder" class="min-h-[8rem]"></div>

    <script>
      // ---------- load navbar ----------

      // fetch("navbar.html")
      //   .then((res) => res.text())
      //   .then((data) => {
      //     document.getElementById("navbar-placeholder").innerHTML = data;

      //     // Reinitialize navbar interactivity manually after inserting HTML
      //     const hamburger = document.querySelector("#hamburger");
      //     const mobileMenu = document.querySelector("#mobile-menu");
      //     const menuIcon = document.querySelector("#menu-icon");
      //     const closeIcon = document.querySelector("#close-icon");
      //     const mobileProductsBtn = document.querySelector(
      //       "#mobile-products-btn"
      //     );
      //     const mobileProductsMenu = document.querySelector(
      //       "#mobile-products-menu"
      //     );
      //     const mobileArrow = document.querySelector("#mobile-arrow");

      //     // Toggle main mobile menu
      //     if (hamburger && mobileMenu) {
      //       hamburger.addEventListener("click", () => {
      //         mobileMenu.classList.toggle("hidden");
      //         menuIcon.classList.toggle("hidden");
      //         closeIcon.classList.toggle("hidden");
      //       });
      //     }

      //     // Toggle product dropdown inside mobile menu
      //     if (mobileProductsBtn && mobileProductsMenu) {
      //       mobileProductsBtn.addEventListener("click", () => {
      //         mobileProductsMenu.classList.toggle("hidden");
      //         mobileArrow.classList.toggle("rotate-180");
      //       });
      //     }
      //   })
      //   .catch(console.error);

      // ---------- load navbar ----------
     

      // =========load navbar==========

      fetch("navbar.html")
        .then((res) => res.text())
        .then((data) => {
          const navbarPlaceholder =
            document.getElementById("navbar-placeholder");
          navbarPlaceholder.innerHTML = data;

          // Extract and run any <script> tags inside navbar.html
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = data;
          const scripts = tempDiv.querySelectorAll("script");
          scripts.forEach((oldScript) => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src;
            } else {
              newScript.textContent = oldScript.textContent;
            }
            document.body.appendChild(newScript);
          });
        })
        .catch(console.error);

      // ---------- load footer ----------

      fetch("footer.html")
        .then((response) => response.text())
        .then(
          (data) =>
            (document.getElementById("footer-placeholder").innerHTML = data)
        )
        .catch(console.error);

      // ---------- lazy-load about_us.html ----------
      (function () {
        let aboutLoaded = false;
        const placeholder = document.getElementById("about-placeholder");
        if (!placeholder) return;

        function loadAbout() {
          if (aboutLoaded) return;
          fetch("about_us.html")
            .then((res) => res.text())
            .then((html) => {
              const parser = new DOMParser();
              const doc = parser.parseFromString(html, "text/html");
              let nodes = doc.body
                ? Array.from(doc.body.children)
                : Array.from(doc.children);
              nodes.forEach((node) => {
                placeholder.appendChild(document.importNode(node, true));
              });
              aboutLoaded = true;
            })
            .catch((err) =>
              console.error("Failed to load about_us.html:", err)
            );
        }

        const rect = placeholder.getBoundingClientRect();
        if (rect.top < window.innerHeight) {
          loadAbout();
          return;
        }

        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                loadAbout();
                obs.disconnect();
              }
            });
          },
          { root: null, rootMargin: "400px", threshold: 0 }
        );

        observer.observe(placeholder);
      })();

      // ---------- lazy-load products.html ----------
      (function () {
        let productsLoaded = false;
        const placeholder = document.getElementById("products-placeholder");
        if (!placeholder) return;

        function loadProducts() {
          if (productsLoaded) return;
          fetch("products.html")
            .then((res) => res.text())
            .then((html) => {
              const parser = new DOMParser();
              const doc = parser.parseFromString(html, "text/html");
              const mainContent = doc.querySelector("main");
              if (mainContent) {
                placeholder.appendChild(document.importNode(mainContent, true));
              }
              productsLoaded = true;
            })
            .catch((err) =>
              console.error("Failed to load products.html:", err)
            );
        }

        const rect = placeholder.getBoundingClientRect();
        if (rect.top < window.innerHeight) {
          loadProducts();
          return;
        }

        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                loadProducts();
                obs.disconnect();
              }
            });
          },
          { root: null, rootMargin: "400px", threshold: 0 }
        );

        observer.observe(placeholder);
      })();

      // ---------- lazy-load our_client.html ----------
      (function () {
        let loaded = false;
        const placeholder = document.getElementById("our-client-placeholder");
        if (!placeholder) return;
        function load() {
          if (loaded) return;
          fetch("our_client.html")
            .then((res) => res.text())
            .then((html) => {
              const parser = new DOMParser();
              const doc = parser.parseFromString(html, "text/html");
              const nodes = doc.body
                ? Array.from(doc.body.children)
                : Array.from(doc.children);
              nodes.forEach((node) =>
                placeholder.appendChild(document.importNode(node, true))
              );
              loaded = true;

              if (typeof initOurClientsSection === "function")
                initOurClientsSection();
            })
            .catch(console.error);
        }
        const rect = placeholder.getBoundingClientRect();
        if (rect.top < window.innerHeight) {
          load();
          return;
        }
        new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((e) => {
              if (e.isIntersecting) {
                load();
                obs.disconnect();
              }
            });
          },
          { root: null, rootMargin: "400px", threshold: 0 }
        ).observe(placeholder);
      })();
    </script>
  </body>
</html>
